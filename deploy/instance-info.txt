Instance ID: i-00d113ad6dd246b7a
Public IP: 34.239.176.138
Region: us-east-1
Key Name: workshelf-key
SSH Command: ssh -i ~/.ssh/workshelf-key.pem ubuntu@34.239.176.138

Deployed: November 28, 2025
Latest Commit: 3684d51 (Backend: FastAPI CORSMiddleware for admin.workshelf.dev)
Project Directory: /home/ubuntu/workshelf
Status: ✅ FULLY DEPLOYED WITH SUBDOMAIN ARCHITECTURE

Production URLs (HTTPS - Live):
  Frontend/Admin: https://admin.workshelf.dev
  Backend API: https://workshelf.dev/api/v1
  Backend Health: https://workshelf.dev/health
  API Docs: https://workshelf.dev/docs
  Keycloak: https://keycloak.workshelf.dev
  Root Domain: https://workshelf.dev (redirects to admin)

Direct Access URLs (Development):
  Frontend: http://34.239.176.138:5173
  Backend API: http://34.239.176.138:8000
  Backend Health: http://34.239.176.138:8000/health
  Keycloak: http://34.239.176.138:8080
  MinIO Console: http://34.239.176.138:9001

Docker Services Status:
  ✅ PostgreSQL (port 5432) - Healthy
  ✅ Redis (port 6379) - Healthy
  ✅ Keycloak (port 8080) - Running with HTTPS
  ✅ MinIO (ports 9000, 9001) - Healthy
  ✅ Matrix Synapse (port 8008) - Running
  ✅ Backend API (port 8000) - Running with HTTPS
  ✅ Frontend (port 5173) - Running with HTTPS
  ✅ Nginx - Configured with SSL/TLS certificates
  ✅ Let's Encrypt - Auto-renewal enabled

SSL Certificates:
  Issuer: Let's Encrypt
  Expires: February 26, 2026
  Auto-renewal: Enabled
  Domains: workshelf.dev, admin.workshelf.dev, keycloak.workshelf.dev

Architecture:
  - admin.workshelf.dev → Frontend (React/Vite on port 5173)
  - workshelf.dev/api → Backend API (FastAPI on port 8000)
  - workshelf.dev/ → Redirects to admin.workshelf.dev
  - keycloak.workshelf.dev → Keycloak IdP (port 8080)
  
CORS Configuration:
  - Backend allows: admin.workshelf.dev, workshelf.dev, localhost:5173
  - Keycloak client redirects: admin.workshelf.dev/callback
  - Frontend VITE_API_URL: https://workshelf.dev
  - Frontend VITE_KEYCLOAK_URL: https://keycloak.workshelf.dev

Credentials:
  Test User: testuser / test123
  Keycloak Admin: admin / admin
  MinIO: minioadmin / minioadmin

AWS Management Commands:
  Stop instance: aws ec2 stop-instances --region us-east-1 --instance-ids i-00d113ad6dd246b7a
  Start instance: aws ec2 start-instances --region us-east-1 --instance-ids i-00d113ad6dd246b7a
  Terminate: aws ec2 terminate-instances --region us-east-1 --instance-ids i-00d113ad6dd246b7a

Docker Management (on EC2):
  View logs: cd ~/workshelf && sudo docker-compose logs -f
  Restart services: cd ~/workshelf && sudo docker-compose restart
  Stop services: cd ~/workshelf && sudo docker-compose down
  Start services: cd ~/workshelf && sudo docker-compose up -d
  Update code: cd ~/workshelf && git pull origin main && sudo docker-compose restart

Database Access:
  Connect to PostgreSQL: sudo docker exec -it workshelf-postgres psql -U workshelf -d workshelf
